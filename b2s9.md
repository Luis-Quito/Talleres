# Taller Individual  3
## Reactive Stream

**Semana**: 9

**Objetivos**:

- Aplicar los conocimientos sobre Reactive Stream.
- Generar y procesar flujos de datos reactivos.

### DescripciÃ³n:

Resuelva los siguientes problemas.

### Problema 1
**SincronizaciÃ³n de Sensores**

DescripciÃ³n: Simula dos sensores que emiten valores periÃ³dicos:

- Sensor1: Rango [20Â°C, 30Â°C], cada 1 segundo.
- Sensor2: Rango [30Â°C, 40Â°C], cada 1.5 segundos.
- Usa zip para combinar los valores de ambos sensores en un solo flujo.
- DetÃ©n el flujo despuÃ©s de 10 pares de valores.
- Genera una alerta si la diferencia absoluta entre las lecturas de Sensor1 y Sensor2 es mayor a 5Â°C.
  

```mathematica
Sensor1: 22Â°C, Sensor2: 27Â°C, Difference: 5Â°C
Sensor1: 24Â°C, Sensor2: 34Â°C, Difference: 10Â°C
ğŸš¨ ALERT! Significant difference detected: 10Â°C
```

### codigo:

```scala
import rx.lang.scala.Observable
import scala.util.Random
import scala.concurrent.duration.*

object TallerB2S9PR1 extends App {
  val sensor1 = Observable.interval(1.second).map(_ => Random.between(20.0, 30.0))
  val sensor2 = Observable.interval(1.second).map(_ => Random.between(30.0, 40.0))

  val flujoCombinado1 = sensor1.zip(sensor2).take(10).map { case (t1, t2) =>
    val diff = Math.abs(t1 - t2)
    val mensaje = f"Sensor1: $t1%.1fÂ°C, Sensor2: $t2%.1fÂ°C, Difference: $diff%.1fÂ°C"

    if diff > 5 then
      mensaje + f"\n ALERT! Significant difference detected: $diff%.1fÂ°C"
    else
      mensaje
  }

  flujoCombinado1.subscribe(mensaje => println(mensaje))

  Thread.sleep(18000)
}
```

### Problema 2
**Sistema de Alerta Complejo**

DescripciÃ³n: Simula tres sensores que emiten datos periÃ³dicos:

- Sensor1: Temperatura (20Â°C a 30Â°C).
- Sensor2: Humedad (40% a 60%).
- Sensor3: PresiÃ³n (950 hPa a 1050 hPa).
- Combina los datos de los tres sensores y detecta si alguna de las mÃ©tricas estÃ¡ fuera de rango.
- DetÃ©n el flujo despuÃ©s de 20 combinaciones.

```yaml
Temperature: 22Â°C, Humidity: 50%, Pressure: 970 hPa
Temperature: 25Â°C, Humidity: 42%, Pressure: 1055 hPa
ğŸš¨ ALERT! Pressure out of range: 1055 hPa
...
```

### codigo:

```scala
import rx.lang.scala.Observable
import scala.util.Random
import scala.concurrent.duration.*

object TallerB2S9PR2 extends App {
  val sensorTemp = Observable.interval(1.second).map(_ => Random.between(18.0, 32.0))
  val sensorHumedad = Observable.interval(1200.millis).map(_ => Random.between(38.0, 62.0))
  val sensorPresion = Observable.interval(1500.millis).map(_ => Random.between(940.0, 1060.0))

  val flujoCombinado2 = sensorTemp.zip(sensorHumedad).zip(sensorPresion)
    .take(20)
    .map { case ((temp, humidity), pressure) =>
      var mensaje = f"Temperature: $temp%.1fÂ°C, Humidity: $humidity%.1f%%, Pressure: $pressure%.1f hPa"
      var alertas = List[String]()

      if temp < 20 || temp > 30 then
        alertas = alertas :+ f"ğŸš¨ ALERT! Temperature out of range: $temp%.1fÂ°C"

      if humidity < 40 || humidity > 60 then
        alertas = alertas :+ f"ğŸš¨ ALERT! Humidity out of range: $humidity%.1f%%"

      if pressure < 950 || pressure > 1050 then
        alertas = alertas :+ f"ğŸš¨ ALERT! Pressure out of range: $pressure%.1f hPa"

      if alertas.nonEmpty then
        mensaje + "\n" + alertas.mkString("\n")
      else
        mensaje
    }

  flujoCombinado2.subscribe(mensaje => println(mensaje + "\n"))

  Thread.sleep(40000)
}
```
### CalificaciÃ³n:

Una vez que termine la primera parte (a lÃ¡piz y papel), debe presentar su trabajo a su docente para poder continuar con la segunda parte (Ãºltima pregunta)

- 10 puntos si presenta en el horario de prÃ¡cticas y experimentaciÃ³n.
- 7 puntos presenta en el horario de tutorÃ­a

La hora mÃ¡xima de presentaciÃ³n serÃ¡ las 08h30
